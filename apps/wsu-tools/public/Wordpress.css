/* WSU Org Chart - Styles */
.wsu-orgchart,
#wsu-orgchart {
	position: relative;
	width: 100%;
	overflow: visible;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	font-family: Inter, "Segoe UI", system-ui, -apple-system, Roboto, Helvetica, Arial, sans-serif;
}

/* Scroll container */
.wsu-orgchart .oc-scroll {
	overflow: auto;
	max-width: 100%;
	min-height: 260px;
	outline: none;
}

/* SVG */
.wsu-orgchart svg {
	display: block;
	max-width: none;
	height: auto;
	font-family: inherit;
}

/* PDF button */
.oc-pdf-button {
	position: absolute;
	top: 12px;
	right: 12px;
	padding: 9px 18px;
	background: #981e32;
	color: #fff;
	border: none;
	border-radius: 999px;
	cursor: pointer;
	font-size: 14px;
	font-weight: 600;
	font-family: system-ui, -apple-system, sans-serif;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
	z-index: 1000;
	transition: background 0.2s ease, transform 0.2s ease;
}

.oc-pdf-button:hover,
.oc-pdf-button:focus-visible {
	background: #7a1828;
	transform: translateY(-1px);
	outline: none;
}

/* Card text */
.wsu-orgchart .oc-name {
	fill: #1d2430;
	font-weight: 700;
	font-size: 17px;
}

.wsu-orgchart .oc-title {
	fill: #4f5b66;
	font-weight: 500;
	font-size: 13.5px;
}

/* Card visual */
.wsu-orgchart .oc-card-rect {
	fill: #fff;
	filter: drop-shadow(0 1px 0 rgba(16,24,40,.04)) drop-shadow(0 1px 2px rgba(16,24,40,.08));
}

/* Ensure expand/collapse is always visible & clickable */
.wsu-orgchart svg .oc-buttons {
	pointer-events: none;
}

.wsu-orgchart svg .oc-btn {
	pointer-events: all;
	cursor: pointer;
}

.wsu-orgchart svg .oc-btn circle {
	fill: #fff;
	stroke: #d0d0d0;
}

.wsu-orgchart svg .oc-btn rect {
	fill: #374151;
}

/* Small type tweak */
@media (max-width: 820px) {
	.wsu-orgchart .oc-name {
		font-size: 16px;
	}
	
	.wsu-orgchart .oc-title {
		font-size: 13px;
	}
}

/* Mobile-friendly PDF button placement */
@media (max-width: 640px) {
	.oc-pdf-button {
		left: 12px;
		right: 12px;
		width: auto;
		top: 12px;
		text-align: center;
		font-size: 15px;
		padding: 11px 18px;
		box-shadow: 0 8px 20px rgba(0, 0, 0, 0.18);
	}
	
	#wsu-orgchart,
	.wsu-orgchart {
		padding-top: 68px;
	}
}

/* ==========================================================================
   Print Styles - Optimized for B&W printing and page layout
   ========================================================================== */

/* Print Optimization Strategy:
   1. Hide all interactive UI elements (buttons, collapse controls)
   2. Convert to black & white for ink savings and clarity
   3. Remove shadows/effects to prevent print artifacts
   4. Ensure SVG fits page width with proper overflow handling
   5. Preserve exact colors where specified for brand consistency
   6. Prevent page breaks inside cards for readability
*/

@media print {
	/* Force exact color rendering (overrides browser print defaults) */
	* {
		color-adjust: exact !important;
		-webkit-print-color-adjust: exact !important;
	}

	/* Hide interactive UI elements (buttons, toggles, helper text) */
	.oc-pdf-button,
	.oc-btn,
	.oc-buttons,
	.oc-toggle,
	header,
	button,
	.helper-text,
	#helperPreview,
	[style*="Use the circle icons"] {
		display: none !important;
	}
	
	/* Hide helper text (including inline-styled divs) */
	.wsu-orgchart > div:not(.oc-scroll):not(.oc-stage),
	#wsu-orgchart > div:not(.oc-scroll):not(.oc-stage),
	div[style*="text-align:right"] {
		display: none !important;
	}

	/* Page setup: auto size with minimal margins */
	@page {
		size: auto;
		margin: 0.5cm;
	}

	/* Container sizing: full width with visible overflow to prevent clipping */
	.wsu-orgchart,
	#wsu-orgchart {
		position: relative;
		width: 100%;
		page-break-inside: avoid;  /* Keep chart together when possible */
		background: #fff !important;
		overflow: visible !important;  /* Prevent SVG clipping */
	}

	/* Scroll container: disable scrolling for print (show full content) */
	.wsu-orgchart .oc-scroll,
	#wsu-orgchart .oc-scroll,
	.oc-scroll {
		overflow: visible !important;  /* Override scrolling for print */
		max-width: none !important;
		max-height: none !important;
		height: auto !important;
	}

	/* SVG sizing: fit to page width with auto height */
	.wsu-orgchart svg,
	#wsu-orgchart svg {
		max-width: 100%;
		width: 100% !important;  /* Scale to page width */
		height: auto !important;  /* Maintain aspect ratio */
		page-break-inside: avoid;  /* Prevent breaking mid-chart */
	}

	/* Black & white styling (ink-saving mode) */
	.wsu-orgchart .oc-card-rect,
	.wsu-orgchart rect,
	#wsu-orgchart .oc-card-rect,
	#wsu-orgchart rect {
		fill: #fff !important;
		stroke: #000 !important;
		stroke-width: 1px !important;
		filter: none !important;
		box-shadow: none !important;
	}
	
	/* Text styling */
	.wsu-orgchart text,
	#wsu-orgchart text,
	.wsu-orgchart .oc-name,
	#wsu-orgchart .oc-name,
	.wsu-orgchart .oc-title,
	#wsu-orgchart .oc-title {
		fill: #000 !important;
		color: #000 !important;
	}
	
	.wsu-orgchart .oc-name,
	#wsu-orgchart .oc-name {
		font-weight: 700 !important;
	}
	
	.wsu-orgchart .oc-title,
	#wsu-orgchart .oc-title {
		font-weight: 400 !important;
	}
	
	/* Connector lines */
	.wsu-orgchart .oc-links path,
	#wsu-orgchart .oc-links path,
	.wsu-orgchart .oc-link,
	#wsu-orgchart .oc-link,
	.wsu-orgchart path,
	#wsu-orgchart path {
		stroke: #000 !important;
		stroke-width: 1px !important;
		fill: none !important;
	}
	
	/* Remove effects */
	.wsu-orgchart *,
	#wsu-orgchart * {
		box-shadow: none !important;
		filter: none !important;
		text-shadow: none !important;
	}
	
	/* Typography */
	.wsu-orgchart,
	#wsu-orgchart {
		font-size: 13px;
		line-height: 1.4;
	}
	
	/* Page breaks */
	.wsu-orgchart .oc-card-rect,
	#wsu-orgchart .oc-card-rect {
		page-break-inside: avoid;
	}
}
